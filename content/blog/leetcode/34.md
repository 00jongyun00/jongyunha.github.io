---
title: Leetcode 33. Find First and Last Position of Element in Sorted Array
date: 2022-12-05
description: "binary search"
tags: [Leetcode, Kotlin, Algorithm]
thumbnail: ""
---

Given an array of integers nums sorted in non-decreasing order, find the starting and ending position of a given target
value.

If target is not found in the array, return [-1, -1].

You must write an algorithm with O(log n) runtime complexity.

Example 1:

```
Input: nums = [5,7,7,8,8,10], target = 8
Output: [3,4]
```

Example 2:

```
Input: nums = [5,7,7,8,8,10], target = 6
Output: [-1,-1]
```

Example 3:

```
Input: nums = [], target = 0
Output: [-1,-1]
```

## Approach

해당 문제는 time complexity O(log n) 에 풀어야 하는 문제 이기 때문에 전형 적인 binary search 문제 입니다.
문제에 대한 접근은 다음과 같았습니다.
<br/>

- 첫번째 발견에 대해서는 left side 로 binary search 를 이어 나간다.
- 마지막 발견에 대해서는 right side 로 binary search 를 이어 나간다.

## Code

```kotlin
fun searchRange(nums: IntArray, target: Int): IntArray {
    return intArrayOf(findFirstOccurrence(nums, target), findLastOccurrence(nums, target))
}

fun findFirstOccurrence(nums: IntArray, target: Int): Int {
    var left = 0
    var right = nums.size - 1
    var firstOccurrence = -1
    while (left <= right) {
        val middle = left + (right - left) / 2
        when {
            nums[middle] == target -> {
                firstOccurrence = middle
                right = middle - 1
            }

            target < nums[middle] -> {
                right = middle - 1
            }

            else -> {
                left = middle + 1
            }
        }
    }
    return firstOccurrence
}

fun findLastOccurrence(nums: IntArray, target: Int): Int {
    var left = 0
    var right = nums.size - 1
    var lastOccurrence = -1
    while (left <= right) {
        val middle = left + (right - left) / 2
        when {
            nums[middle] == target -> {
                lastOccurrence = middle
                left = middle + 1
            }

            target < nums[middle] -> {
                right = middle - 1
            }

            else -> {
                left = middle + 1
            }
        }
    }
    return lastOccurrence
}
```
